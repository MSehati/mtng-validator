<!DOCTYPE html>
<html ng-app="app">
    <head>
        <title>MTNG Validator</title>

        <script type="text/javascript" src="../../bower_components/jquery/dist/jquery.js"></script>
        <script type="text/javascript" src="../../bower_components/angular/angular.js"></script>
        <script type="text/javascript" src="../mtng.validator.module.js"></script>
        <script type="text/javascript" src="../services/validators.service.js"></script>
        <script type="text/javascript" src="../services/message.service.js"></script>
        <script type="text/javascript" src="../directives/validator.directive.js"></script>

    </head>
    <body ng-controller="ctrl1 as vm">
        <form id="my-form" name="my-form" ng-submit="vm.submit()">
            <input name="ctrl1__name" id="ctrl1__name" ng-model="vm.name" mtng-validator />
            <button type="submit">Submit</button>
        </form>

        <script>
            angular
                .module('app', ['mtng.validator'])
                .controller('ctrl1', ctrl1);

            ctrl1.$inject = ['$scope'];

            function ctrl1($scope){
                var vm = this;

                vm.name = "morteza";
                vm.submit = submit;

                function submit(){
                    console.log(vm.name);
                }

                vm.rules = {
                    ctrl1__name: {
                        required: true,//{
                        //    required : true,
                        //    failedMessage: "این فیلد الزامی است"
                        //},
                        minLength:{
                            minLength: 3,
                            failedMessage: "این فیدل باید حداقل ۳ کاراکتر باشد",
                        },
                        maxLength:{ 
                            customValidator: function(value){ if(value) return value.length > 5;}
                        }
                    }
                };

            }
        </script>
    </body>
</html>

